// Dependencies
import { AudioSchedule } from "../src"
import * as fs from "fs"

// Simple wait function
function wait(ms: number) {
    return new Promise( resolve => setTimeout(resolve, ms) );
}

//
(async() => {
    // Vars
    const file = fs.createReadStream("./test/file.ogg");
    const cookie = "_|WARNING:-DO-NOT-SHARE-THIS.--Sharing-this-will-allow-someone-to-log-in-as-you-and-to-steal-your-ROBUX-and-items.|_EED4F4B6BCB4C29D7359AD15B4DBA754E19EEFA9ABA501682D63A3F4565E761F9A04A76B5388304F9BF20AE9742CA0372E48874F2FC7B214FD17A43B0E9BBB9FB2A720ACB1C780FFC439B67F0998D1015F911514F33102C9D494DE498404EB6E2F9F373FD3E0AFC3E67A7D6762FEAA9BE3B55E7FE3F7E5FA882256822C0BD4CF3D566714065633B5738DFFC820C1C3EA6E9529D6FB99E45E25417D3D52ECC81CC3FFC3B24309AC2DC7D154CD1601E25EE53E3762C677DD5DC2F406A8B1DEA014E50C29B2D2864D2F08355D209EE3A9DA2125085FC811F6C7529D2F0BDEF8793813E6F2B58180808B9DE7AAE2896629493481AAAE348C976D50AB3989CFCCA42760EB0006F98DAC561B7134147DA8769F979DA84A631CC1E920E2EE5A338414104BC5DDB69A0E3004B53BE5402A048FCD47264CE0";
    const uploader = new AudioSchedule(cookie);

    // Wait
    await wait(1000)

    // Upload
    await uploader.scheduleAudio({
        audio: file,
        name: "test",
        description: "test",
        filename: "test",
        filetype: "ogg"
    }, new Date());
})();